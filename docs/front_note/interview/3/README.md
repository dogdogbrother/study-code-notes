# 网络知识

## 常见的http状态码

状态码被分为5大类
+ 100-199	用于指定客户端相应的某些动作
+ 200-299	用于表示请求成功
+ 300-399	用于已经移动的文件并且常被包含在定位头信息中指定新的地址信息
+ 400-499	用于指出客户端错误
+ 500-599	用于支持服务器错误

### 100
客户端的post请求中,是先发送请求的初始部分,例如我要发送的内容有10MB,请求头先把部分信息发送给服务端,如果服务器认为发送的数据没问题,就返回100状态码.客户端收到后再次发送正文大数据.

### 201,204,205
200的这几个都是成功,但是声明了服务器不同的状态反应.  
例如插入了一个数据,服务器表示201已创建.
如果修改了某个用户的性别,服务器处理完成,但是又没有数据和客户端交互,所以用204表示无返回内容.  
如果修改了用户的头像,服务器也是没有数据和客户端交互的,但是和204不同的是,205是告知用户要更新下页面的视图.

### 206 (Partial Content)
Partial Content翻译过来就是局部内容,一般是申请视频音频比较大的文件的时候才会出现这种状态码.  
这是种对性能的优化,假如我看一个2个G的电影,如果等到他完全加载完成200后再能观看就太难受了,所以通常先加载一些先用来展示.

### 401
当前用户需要用户校验,JWT校验会自动判断token是否合格,不合格自动报401错误.

### 403
服务器已经理解请求，但是拒绝执行它，一般都是权限不够，例如我请求qq音乐上的数据，但是因为url上的vkey的值不正确，qq音乐服务器就会返回一个403代码。

### 405
是用了错误的请求方式，例如这个接口只允许patch，但是你用了get，就会报这个错，如果你用小程序的话，报错是非常明显的,'没有这个方法'.
>没有这个方法,那么有什么方法呢?  
其实405报错一般都是用了options方法的工具,如果你尝试用options重新调用下这个接口,大概率会收到`"GET,POST"`这样的消息..

### 409
意思是冲突,假如我注册新用户,用户名已经存在了,就会报409,告知客户端用户名冲突请更换.

### 412
先决条件失败.假如我想给一个id为309的班级加一个学生,但是数据库里却没有309这个班.这就是412.(假如我往存在的班级加了已存在的学生,那就是409)

### 413 Request Entity Too Large
上传文件太大报错导致的，我在往我服务器发送一个8M的视频，服务器就返回的413.Nginx里面设置下就行了.(http层，server层都可以设置)
```ssh
client_max_body_size 10M;
```
### 500
一般就是后端代码写崩了,程序报错了.

### 501
方法不可用,和405有点相似但是又不同.  
例如我申请个接口，用的delete方法，而这个delete方法服务端没有实现，就会报405.  
但是如果不是因为没有实现而是不能实现就会报501.(koa不支持link请求方法，而你用link就会报501).
