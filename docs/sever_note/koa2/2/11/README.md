# 问题模块

* 首先是有一对多的关系,就是一个用户可以提多个问题,但是每个问题只有一个提问者.
* 其次是多对多关系,一个问题有可能被赋予上多个话题,每个话题下也有多个问题.

## 用户-问题
其实也没什么好说的,问题的 schema 设计中,提问者的字段是 users 表的引用,指的一提的是 find 查询问题接口里面,除了要模糊搜索外,我们也有可能想通过用户名或是问题描述去查找问题(而不是只通过问题名去查找),怎么办呢?

mongoos提供了 `$or` 或者查询.(应该也有`$all`查询吧)

>说来惭愧,我曾经写搜索歌曲的时候查询了2遍数据库,然后forEach的形式去重..

```js
const q = new RegExp(ctx.query.q)
ctx.body = await Question.find({ $or: [{ title: q }, { description: q }] }).limit(...)...
```

## 问题-话题
其实也没啥好说的,互相引用就完事了..
