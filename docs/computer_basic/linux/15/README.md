## vim的四种常见模式

### 交互模式
就是默认进入vim的模式，这个模式下不能输入文本，但是可以在文本间移动，删除一行文件，复制粘贴文本，跳转到指定行，撤销操作，等等。

在交互模式下，有几个光标操作

* 0， 数字0,可以将光标定位在光标行开始位置，同home键。
* $， 和0相反，可以定位在结尾处，同end键。
* w， 一个单词一个单词的移动，w就是word单词的意思。

### 插入模式
就是能输入文本的模式，进入这个模式的方法最常用的输入 **i**,进入光标所在位置进行插入文件，还可以用其他的模式：

* I，进入当前光标所在的行首。
* a，进入光标所在位置的下个字母前。
* A，进入光标行所在的行尾。
* o，在光标行的下面新起一行 
* O，在光标行的上面新起一行
* s，删除光标所在的字符并进入删除模式
* S，删除光标所在的行并进入删除模式

退出插入模式按 ESC 即可进入交互模式。

### 命令模式
在交互模式下输入 `:` 就能进入，输入命令后，再按回车，就会执行此命令。有几个常用命令。

* w后回车保存，q后回车退出，`:wq` 后回车保存退出，有个简写 `:x`，功能是一样的。
* 如果修改了文件又没保存，就不让退出，可以使用 `:q!` 无视退出。

### 可视模式
意思就是能用进行键盘的方向键进行框选操作，例如插入删除之类的。可以按 `v` `V` 和 `ctrl v`,一般来说 `ctrl v` 进入块可视模式是最常见的。

## vim的一些标准操作
如果是想输入内容必须要是插入操作，其他操作其实在交互页面也能完成。
* **x** 可以删除单个字符，也可以删除多个字符，例如 `4x`,就能删除4个字符。
* **d** delete的缩写，可以删除单词和行，事实上应该叫剪贴，因为删除的内容是可以粘贴的(p)。连按两次d能删除光标所在的一行，`2dd` 就能一次性删除2行。输入 `dw` 就能删除光标所在的单词。需要注意的是，如果你删除时光标在单词的中间，会删除掉当前字符开始到下一个空格前的所有字符。也可以用数学删除多个单词 `3dw`。`d0` 删除从光标处到行首的所有字符，`d$` 相反。
* **y** y是yank的首字母，是拔出抽出的意思，在vim中yank就是复制的意思。d是剪贴，y是复制行和单词。用法和d是一致的。
* **p** p是paste的首字母，表示黏贴。如果之前用y或者d命令复制过内容，就可以用p来粘贴到光标之后。也可以使用 `7p` 来复制7次。
* **r** r是replace的首字母，替换的意思。在想替换的字母光标前输入r，再输入你想替换的单词，例如 `rs`，就能把字母修改为s。还可以使用大写的R，可以一次输入多个字母。
* **u** 是undo的首字母，英语撤销的意思，按下u就能撤销临近的操作，`4u` 就是撤销四次操作。
* **ctrl + r** r是redo的首字母，重做的意思。如果我们进行了撤销操作后，想取消这个撤销，就可以用按 `ctrl + r` 来重做撤销。
* **g** go的意思，可以跳转指定行。默认的vim没有行，可以输入 `set nu` 来开启行显示，nu是number的缩写。隐藏行号就是 `set nonu`.如果想跳到第7行，可以按下 `7G` 或者 `7gg` 就行跳转。如果想要跳转到最后一行，`G`即可，跳到第一行，`gg`即可。

## 高级操作
* **/** 查找模式，按下 `/hellow`，回车后会查找文件的匹配项，如果找到了，可以按 n 来找下一个匹配项，N来找上一个匹配项。`/` 查找是从当前光标处开始，向文件尾搜索。如果想从光标开始向文件开头搜索，那么将 `/` 替换为 `?` 查找即可。
* **:s** 查找并替换的方法有很多，最简单的就是这种 `:s/旧字符串/新字符串`，但这种方法只会替换光标所在行的第一个匹配的字符串。`:s/旧字符串/新字符串/g` 替换光标所在行的所有匹配项。`:1,5 s/旧字符串/新字符串/g` 替换文件中第1行到第5行的所有匹配项。`:%s/旧字符串/新字符串/g` 替换文件所有匹配项(应该是最常用的吧)。
* **:r** 合并文件，`:r 另一个文件名`,可以实现在光标处插入一个文件内容，是可以使用 tab 来自动补齐路径的。

## 高级操作分屏
* **:sp** 横向分屏，sp是split的缩写，分割的意思，默认是横向分割。`:sp 另一个文件名` 就能分屏打开不同的文件内容。可以多次输入
* **:vsp** 垂直分屏，vertically split 的缩写。横向分屏和垂直分屏是可以共同存在的。
* 分屏模式下有几个主要的快捷键。`ctrl + w` 然后再按 `ctrl + w`，从一个 viewport 移动光标到另一个 viewport。如果是 `ctrl + w` 后按 j，就会移动到下边的viewport，相应的h是左边，k是上边，l是右边。`ctrl + w` 后按 - ，会缩小当前的viewport。`ctrl + w` 后按 =，会重新均匀分配窗口的占比。`ctrl + w` 后按 q 或者 c，是关闭当前viewport，输入:quit或者close是一样的效果。`ctrl + w` 后按 o，只保留当前所在的，关闭其他viewport，输入only同样的效果。
* **:!**  在vim中可以运行一些终端命令，例如 `:!ls`，就能在不离开vim的时候查看相应的信息，然后回车就能返回到vim。

## vim的配置
我们可以使用 `set nu` 来开启行号，但是关闭后再打开就没用了，还要重新设置，如果想要让配置是用久的，就需要在家目录下创建配置文件 **.vimrc**。  

> vim默认的全局配置文件在 **etc/vimrc**。

**.vimrc** 可以设置几个配置:
```vim
set number
set showcmd
set ignorecase
set mouse=a
" 我是注释
```
作用分别是显示行号，showcmd 实时显示输入的命令，ignorecase 忽略大小写，mouse=a 启用鼠标。`" `开头的就是注释。

当我们用鼠标选取了后，可以用d或者x键来删除刚才选中的文本，用U可以把文本转为大写，u来把文本转为小写。

